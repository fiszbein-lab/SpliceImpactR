% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_protein_features.R
\name{add_user_features}
\alias{add_user_features}
\title{Standardize user-supplied protein feature annotations}
\usage{
add_user_features(x, default_database = "user")
}
\arguments{
\item{x}{A \code{data.frame} or \code{data.table} supplied by the
user containing at least \code{name}, \code{start}, and \code{stop},
and optionally one or both of \code{ensembl_transcript_id} or
\code{ensembl_peptide_id}.}

\item{default_database}{Character scalar giving the default value for
the \code{database} column when none is provided
(default \code{"user"}).}
}
\value{
A \code{data.table} with standardized columns:
  \code{ensembl_transcript_id}, \code{ensembl_peptide_id},
  \code{database}, \code{feature_id}, \code{name}, \code{alt_name},
  \code{start}, \code{stop}, and \code{method = "manual"}.
}
\description{
Internal helper that converts a user-provided feature table into the
standardized long-format schema used throughout SpliceImpactR.
Ensures consistent column names, data types, and coordinate logic.
}
\details{
The function verifies the presence of required coordinate columns and
at least one Ensembl identifier, fills in any missing optional
columns with default values, coerces all types to their expected
formats, removes invalid coordinates (\code{stop < start}), and
reorders columns into the canonical schema used by
[to_long_features()].
}
\keyword{internal}
