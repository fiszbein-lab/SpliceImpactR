% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_multi_analysis.R
\name{plot_length_comparison}
\alias{plot_length_comparison}
\title{Compare inclusion vs. exclusion isoform lengths}
\usage{
plot_length_comparison(
  hits,
  phenotypes = c(control = "control", experimental = "case"),
  mode = c("protein", "transcript")[1],
  output_file = NULL
)
}
\arguments{
\item{hits}{`data.frame` or `data.table` containing event-level results,
including at least `prot_len_inc`, `prot_len_exc`, and `prot_len_diff`
for `mode = "protein"`, or their transcript analogues
`tx_len_inc`, `tx_len_exc`, and `tx_len_diff`.}

\item{phenotypes}{Named character vector of length 2 giving labels for
control and experimental phenotypes. Must have names
`"control"` and `"experimental"`.}

\item{mode}{Character, one of `"protein"` or `"transcript"`.
Determines which length columns to use and whether to derive
protein-coding categories.}

\item{output_file}{Optional path for saving the combined plot
(e.g., `"length_summary.png"`).}
}
\value{
A composite `ggplot` object (assembled with `patchwork`) showing
paired boxplots, Δ-length density, and protein-coding class distribution.
}
\description{
Generates a multi-panel summary comparing isoform lengths between inclusion
(INC) and exclusion (EXC) events for either protein or transcript modes.
}
\details{
Produces three coordinated panels:
\enumerate{
  \item Paired boxplot showing INC vs EXC lengths per event with Wilcoxon
        paired test annotation.
  \item Density plot of Δ length (INC − EXC).
  \item Barplot summarizing protein-coding categories.
}
}
\examples{
sample_frame <- data.frame(path = c(check_extdata_dir('rawData/control_S5/'),
                                    check_extdata_dir('rawData/control_S6/'),
                                    check_extdata_dir('rawData/control_S7/'),
                                    check_extdata_dir('rawData/control_S8/'),
                                    check_extdata_dir('rawData/case_S1/'),
                                    check_extdata_dir('rawData/case_S2/'),
                                    check_extdata_dir('rawData/case_S3/'),
                                    check_extdata_dir('rawData/case_S4/')),
                           sample_name  = c("S5", "S6", "S7", "S8", "S1", "S2", "S3", "S4"),
                           condition    = c("control", "control", "control", "control", "case",  "case",  "case",  "case"),
                           stringsAsFactors = FALSE)
hit_index <- get_hitindex(sample_frame)
res <- get_differential_inclusion(hit_index)
annotation_df <- get_annotation(load = "test")
matched <- get_matched_events_chunked(res, annotation_df$annotations, chunk_size = 2000)
x_seq <- attach_sequences(matched, annotation_df$sequences)
pairs <- get_pairs(x_seq, source="multi")
seq_compare <-compare_sequence_frame(pairs, annots$annotations)
proximal_output <- plot_length_comparison(seq_compare)

}
\seealso{
[plot_alignment_summary()]
}
