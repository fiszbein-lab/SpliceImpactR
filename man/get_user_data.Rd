% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/user_supplied_data.R
\name{get_user_data}
\alias{get_user_data}
\title{Get User-Supplied Splicing Event Data}
\usage{
get_user_data(df)
}
\arguments{
\item{df}{Data frame with splicing events. Detailed in description}
}
\value{
data.table with cols, detailed above: "event_id","event_type","form",
"gene_id","chr", "strand", "inc","exc","inclusion_reads","exclusion_reads",
"psi", "sample", "condition","source_file" -- designed to match get_rmats_hit
output
}
\description{
SpliceImpactR accepts user-supplied splicing data in the same structure
produced by \code{get_rmats_hit()}. Each event must be represented at the
event-form and sample level.

**Event representation**
- Each splicing event must be split into two forms:
  - \code{INC}: the inclusion isoform
  - \code{EXC}: the exclusion isoform
- Alternative first/last exon events (AFE/ALE) or more abstract events may
 instead provide a single \code{SITE} form.

**Coordinates**
- \code{inc} column: genomic coordinates included in the given form
- \code{exc} column: genomic coordinates excluded in the given form
- Coordinates may be one or multiple ranges (e.g., "100-200" or "100-150;300-350")
- User must supply at least an inc and if supplying an exc, accompany with an inc coord

**Counts and PSI**
- \code{inclusion_reads} and \code{exclusion_reads} must be provided per form
- \code{psi} must be provided per sample (range 0-1)
If psi isn't given, it will be extracted through
\code{inclusion_reads}/\code{exclusion_reads}

**Sample structure**
- Each event must have \code{INC} and \code{EXC} rows (or just \code{SITE})
- Each event must have >1 sample per condition (e.g., case vs control)
- Required sample annotations: \code{sample}, \code{condition}

**Required columns**
\code{event_id, event_type, form, gene_id, chr, strand, inc, exc,
 inclusion_reads, exclusion_reads, psi, sample, condition}

**Defaults**
- If \code{event_type} not supplied: filled as \code{"unknown"}
- If \code{source_file} not supplied: filled with empty string

This format enables downstream functionality
including PSI modeling, annotation integration, and protein consequence
prediction.
}
\examples{
example_df <- data.frame(
  event_id = rep("A3SS:1", 8),
  event_type = "A3SS",
  form = rep(c("INC","EXC"), each = 4),
  gene_id = "ENSG00000158286",
  chr = "chrX",
  strand = "-",
  inc = c(rep("149608626-149608834",4), rep("149608626-149608829",4)),
  exc = c(rep("",4), rep("149608830-149608834",4)),
  inclusion_reads = c(30,32,29,31, 2,3,4,3),
  exclusion_reads = c(1,1,2,1, 28,27,26,30),
  sample = c("S1","S2","S3","S4","S1","S2","S3","S4"),
  condition = rep(c("case","case","control","control"), 2),
  stringsAsFactors = FALSE
)
example_df$psi < example_df$inclusion_reads / example_df$exclusion_reads
user_data <- get_user_data(example_df)

}
